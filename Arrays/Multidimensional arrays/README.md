# Многомерные массивы

Массивы характеризуются понятием *ранг*. *Ранг* показывает количество измерений в массиве. То есть, *двумерный массив* имеет *ранг 2*, а *трёхмерный массив* – *3*. По аналогии, одномерный (обычный) массив имеет *ранг 1*.

## Создание многомерных массивов

### Одномерный (обычный) массив из 5 целых чисел:

    int[] myArray = new int[5];

В графическом представлении он выглядит так:
![Одномерный массив из 5 целых чисел.](https://s8.hostingkartinok.com/uploads/images/2019/03/19368a0e599c8fe537c0860acf94ed76.png)

### Двумерный массив 3x4 целых чисел:

    int[,] myArray = new int[3, 4];

В графическом представлении он выглядит так:
![Двумерный массив 3x4 целых чисел.](https://s8.hostingkartinok.com/uploads/images/2019/03/8597038692d35decce9d07420b004f6c.png)

### Трёхмерный массив 2x4x3 целых чисел:

    int[,,] myArray = new int[2, 4, 3];

В графическом представлении он выглядит так:
![Трёхмерный массив 2x4x3 целых чисел.](![3D.png](https://s8.hostingkartinok.com/uploads/images/2019/03/2fb4773c78c72210c7c2eaf681d6e0fe.png)

То есть, одна запятая в квадратных скобках значит, что измерений два (массив двумерный), две запятые значат, что измерений три (массив трёхмерный) и т.д. Но почему количество запятых не совпадает с количеством измерений массива. Ответ на этом изображении:
![Длины измерений указываются через запятую.](https://s8.hostingkartinok.com/uploads/images/2019/03/8e9741f942b79853ca443a0fa07dc41d.png)

## Способы инициализации многомерных массивов

Рассмотрим способы инициализации многомерных массивов на примере двумерного массива `Array2D` (способы применимы ко всем многомерным массивам):

 - `int[,] Array2D = new int[3, 2];`
Чтобы заполнить массив числами от 1 до 6, инициализированный таким образом, можно воспользоваться циклами:

    	for (int i = 0; i < Array2D.GetLength(0); i++)
		{
			for (int j = 0; j < Array2D.Length / Array2D.GetLength(0); j++)
			{
				Array2D[i, j] = v;
				v++;
			}
		}

 - `int[,] Array2D = new int[3, 2] { { 1, 2 }, { 3, 4 }, { 5, 6 } };`
 - `int[,] Array2D = new int[,] { { 1, 2 }, { 3, 4 }, { 5, 6 } };`
 - `int[,] Array2D = new[,] { { 1, 2 }, { 3, 4 }, { 5, 6 } };`
 - `int[,] Array2D = { { 1, 2 }, { 3, 4 }, { 5, 6 } };`

## Обращение к многомерным массивам

Допустим, у нас есть двумерный целочисленный массив 3x4:

    int[,] myArray = new int[3, 4]
    {
	    { 1, 2, 3, 4 },
	    { 5, 6, 7, 8 },
	    { 9, 10, 11, 12 }
    }; // Фигурные скобки в несколько линий для удобства

Чтобы получить последний элемент (содержащий 12), нужно написать следующее:

    Console.WriteLine(myArray[2, 3]);
А почему не `[3,4]`? А потому что массивы нумеруются, начиная с 0.
Например, чтобы получить элемент, содержащий 5, нужно написать:

    Console.WriteLine(myArray[1, 0]);

А чтобы получить нулевой элемент (который стоит в самом начале и содержит число 1), нужно написать:

    Console.WriteLine(myArray[0, 0]);

## Перебор многомерных массивов с помощью foreach

Длина многомерного массива (myArray.Length) – это общее количество элементов массива.
Возьмём следующий массив: 

	int[,] myArray = new int[3, 4]
    {
	    { 1, 2, 3, 4 },
	    { 5, 6, 7, 8 },
	    { 9, 10, 11, 12 }
    };

То есть, длина этого массива равна 12 (12 элементов в массиве), то есть, задача перебора этого массива по измерениям с помощью foreach становится проблематичной.

### Полезные методы:

 - `GetUpperBound()` – метод для получения последнего индекса в указанном измерении.
 - `GetLowerBound()` – метод для получения начального индекса в указанном измерении.

### Полезные свойства:

 - `Rank` – свойство, хранящее ранг массива.

Используем циклы for для вывода массива в консоль по измерениям:

    for (int i = 0; i < myArray.GetUpperBound(0) + 1; i++)
    {
	    for (int j = 0; j < (myArray.GetUpperBound(1) + 1); j++)
	    {
		    Console.Write(myArray[i, j] + "\t");
	    }
	    Console.WriteLine();
    }

