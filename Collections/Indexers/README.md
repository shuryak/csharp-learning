# Индексаторы

Индексаторы — особые методы с квадратными скобками (`[]`) и не имеющие названия (вместо него указывается ключевое слово `this`), предназначенные для обращения к объекту, как к массиву, с указанием индекса. Индексатор представляет собой акцессоры `get` и `set` (один блок может быть упущен). Параметры указываются в квадратных скобках. Индексатор может иметь несколько параметров.

Пример описания индексатора:

```csharp
public int this[int index]
{
    get { return myArray[index]; }
    set { myArray[index] = value; }
}
```

## Предназначение индексаторов

Как уже упоминалось ранее, индексаторы предназначены для того, чтобы можно было обращаться к объекту, как к массиву. Брюс Эккель в своей книге "Философия Java" ("Thinking in Java", Bruce Eckel) ввёл два понятия: *программисты, которые пишут классы* и *программисты-клиенты*. *Программисты, которые пишут классы* — это те, кто пишут классы для *программистов-клиентов*. У *создателей классов* задача состоит в том, чтобы *программист-клиент* не знал о реализации данного класса, то есть, чтобы он умел пользоваться классом, но не знал, что у него "под капотом". Это нужно для того, чтобы *программист-клиент* не смог "сломать" логику класса, обращаясь к приватной части. Так вот, в C# такая концепция тоже имеет смысл. Индексаторы, как бы, говорят, что есть объект, в нём есть коллекция, к которой у программиста есть доступ. Но программисту не следует знать всех деталей о реализации коллекции, он может к ней обращаться, как к элементу объекта.

## Индексаторы с несколькими параметрами

Представим трёхмерный массив:

```csharp
int[,] threeByThree = new[,] { { 1, 2, 3 }, { 4, 5, 6 }, { 7, 8, 9 } };
```

Чтобы получить какое-либо значение из этого массива, нужно указать два индекса (первый — "координата по вертикали", второй — "координата по горизонтали"). Например, чтобы получить число 5, которое находится "по центру" массива, нужно написать следующее:

```csharp    
int[1,1] // не забываем, что индексация начинается с 0
```

А так как индексов у нас два, индексатора с одним параметром нам не хватит, нужно создать индексатор с двумя параметрами:

```csharp
public int this[int v, int h]
{
    get { return threeByThree[v, h]; }
    set { threeByThree[v, h] = value; }
    // не забывайте, что один из акцессоров (get или set) можно упустить
}
```

По аналогии, индексатор может два, три, четыре и т.д. параметра.

## Перегрузка индексаторов

Равно как и с методами, индексаторы можно перегружать. Это может пригодиться например, тогда, когда у нас имеется два массива: обычный и многомерный. Класс DoubleGarden (файл DoubleGarden.cs) это отлично показывает.
